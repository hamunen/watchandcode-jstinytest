<script src="../simpletest.js"></script>
<script>

  /*
  The join() method creates and returns a new string by concatenating all of the elements in an array (or an array-like object), separated by commas or a specified separator string.

  Parameters:
  - separator: Specifies a string to separate each pair of adjacent elements of the array. The separator is converted to a string if necessary. If omitted, the array elements are separated with a comma (","). If separator is an empty string, all elements are joined without any characters in between them.

  Return: A string with all array elements joined. If arr.length is 0, the empty string is returned.

  REQUIREMENTS:
  - If array.length = 0, return empty string
  - If array.length = 1, return only element, converted to string
  - If no separator, return concatenated string with separator comma ","
  - Returns string
  - If separator is "", all elements are joined without any characters beteween
  - If an element is undefined or null, it is converted to the empty string
    
  */

  function join(array, separatorInput) {
    var result = '';
    var separator = separatorInput === '' || separatorInput ? separatorInput : ',';

    if (array.length > 0 && 0 in array) {
      result += array[0];
    }

    for (var i = 1; i < array.length; i++) {
      result += separator
      if (i in array && array[i] !== undefined && array[i] !== null) {
        result += array[i];
      }
    }
    
    return result;
  }

  tests({
    'If array.length = 0, return empty string': function () {
      eq(join([]), '');
    },
    'If array.length = 1, return only element, converted to string': function () {
      eq(join([1]), '1');
    },
    'If no separator, return concatenated string with separator comma ","': function () {
      eq(join([1,2,3]), '1,2,3');
      eq(join(['a','b','c']), 'a,b,c');
    },
    'Returns string': function () {
      eq(typeof join([1]), 'string');
    },
    'If separator is "", all elements are joined without any characters beteween': function () {
      eq(join([1,2,3], ''), '123');
    },
    'If an element is undefined or null, it is converted to the empty string': function () {
      eq(join([,1,2,3,undefined,null,,,8]), ',1,2,3,,,,,8')
    },
    'Separator test': function () {
      eq(join([1,2,3], ' x '), '1 x 2 x 3');
      eq(join([1,2,3], 9), '19293');
    }
  });

</script>