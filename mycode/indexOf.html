<script src="../simpletest.js"></script>
<script>

  /*
    The indexOf() method returns the first index at which a given element can be found in the array, or -1 if it is not present.

    Parameters:
    - searchElement: Element to locate in the array
    - fromIndex (optional): The index to start the search at

    Return: the first index of the element in the array; -1 if not found.

    REQUIREMENTS:
    - Returns first index of element in the array that matchces searchElement
    - Returns -1 if searchElement not found
    
    - If fromIndex >= array.length, returs -1 and array not searched.
    - If fromIndex <0, start search from array.length + fromIndex
    - If fromIndex =0, whole array is searched.
    - else if fromIndex, start search from fromIndex
    - If no fromIndex, whole array is searched.

    - Compares searchElement with strict equality (===)

  */

  function indexOf(array, searchElement, fromIndex) {
    var startIndex = fromIndex ? fromIndex : 0;
    if (startIndex < 0) {
      startIndex = array.length + startIndex;
    }

    for (var i = startIndex; i < array.length; i++) {
      if(array[i] === searchElement) {
        return i;
      }
    }
    return -1;
  }

  tests({
    'Returns first index of element in the array that matchces searchElement': function () {
      var testArray = [1,2,3,2,2]; var searchElement = 2;
      var result = indexOf(testArray, searchElement);
      eq(result, 1);
    },
    'Returns -1 if searchElement not found': function () {
      var testArray = [1,2,3]; var searchElement = 'x';
      var result = indexOf(testArray, searchElement);
      eq(result, -1);
    },
    'if fromIndex, start search from fromIndex': function () {
      var testArray = [1,2,3]; var searchElement = 1;
      var result = indexOf(testArray, searchElement, 1);
      eq(result, -1);

      var testArray = [1,1,3]; var searchElement = 1;
      var result = indexOf(testArray, searchElement, 1);
      eq(result, 1);
    },
    'If fromIndex >= array.length, returs -1 and array not searched': function () {
      var testArray = [1,2,3]; var searchElement = 2;
      var result = indexOf(testArray, searchElement, testArray.length);
      eq(result, -1);
    },
    'If fromIndex =0, whole array is searched': function () {
      var testArray = [1,2,3]; var searchElement = 3;
      var result = indexOf(testArray, searchElement, 0);
      eq(result, 2);
    },
    'If no fromIndex, whole array is searched': function () {
      var testArray = [1,2,3]; var searchElement = 3;
      var result = indexOf(testArray, searchElement, 0);
      eq(result, 2);
    },
    'If fromIndex <0, start search from array.length + fromIndex': function () {
      eq(indexOf([1,2,3], 3, -1), 2);
      eq(indexOf([1,2,3], 2, -2), 1);
      eq(indexOf([1,2,3], 1, -2), -1);
      eq(indexOf([1,2,3], 1, -3), 0);
    },
    'Compares searchElement with strict equality (===)': function () {
      eq(indexOf([1], "1"), -1)

    },

  });

</script>